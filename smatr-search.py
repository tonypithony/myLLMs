from re import sub
import ollama

# file_ru = "html-text.txt"
file_ru = "html-texts.txt"

with open(file_ru, "r", encoding='utf-8') as file:
	html = file.read()

s = sub(r'\<[^>]*\>', '', html)

text_ru = ' '.join(s.split())


# prompt_ru = f"Сделай анонс в 2 предложениях (не больше 15-20 слов) из текста: {text_ru}"
# prompt_ru = f"Сделай краткий анонс текста в 3 тезисах (не больше 15 слов): {text_ru}"
# prompt_ru = f"Перескажи текст в 3 тезисах (не больше 15 слов): {text_ru}"
# prompt_ru = f"Перескажи основные идеи из текста: {text_ru}"
# prompt_ru = f"Сделай краткий пересказ текста: {text_ru}"
# prompt_ru = f"Какая основная идея и ключевые слова в тексте? {text_ru}"
prompt_ru = f"Напиши основную информацию из текста (данные, измерения, результаты, ключевые слова): {text_ru}"


res = ollama.chat(
    # model="llama3.2", # CPU&GPU
    model="lakomoor/vikhr-llama-3.2-1b-instruct:1b", # GPU
    # model="akdengi/saiga-llama3-8b", # CPU
    # model ="koesn/llama3-8b-instruct", # CPU
    # model ="blackened/llama-3-8b-gpt-4o-ru1.0", # CPU
    # model ="blackened/t-lite", # CPU

    messages=[
        {
            'role': 'user',
            # 'content': f'{prompt}', 
            'content': f'{prompt_ru}',
        }
    ],

    options={
        'temperature': 0.1, # значение от 0,0 до 0,9 (или 1) определяет уровень креативности модели или ее неожиданных ответов.
        'top_p': 0.9, #  от 0,1 до 0,9 определяет, какой набор токенов выбрать, исходя из их совокупной вероятности.
        'top_k': 90, # от 1 до 100 определяет, из скольких лексем (например, слов в предложении) модель должна выбрать, чтобы выдать ответ.
        'num_ctx': 131000, # устанавливает максимальное используемое контекстное окно, которое является своего рода областью внимания модели.
        # 'num_ctx': 8190, # saiga (max) ~ 6100 words
        'num_predict': 500, # задает максимальное количество генерируемых токенов в ответах для рассмотрения (100 tokens ~ 75 words).
    },
)



print(res['message']['content'])

# llama3.2 + Напиши основную информацию из текста (данные, измерения, результаты, ключевые слова)

'''
Основная информация из текста:

* 40% дата-центров, обслуживающих системы искусственного интеллекта (ИИ), столкнутся с дефицитом электроэнергии в 2027 году.
* Энергопотребление центров обработки данных возрастет на 160% в ближайшие два года, превысив возможности поставщиков электричества.
* Для работы ИИ-серверов потребуется около 500 тераватт-часов (ТВт·ч) электроэнергии, что в 2,6 раза больше, чем в 2023 году.
* Дефицит электроэnergии может ограничить развитие новых дата-центров как для ИИ, так и для других задач.
* Новая ядерная батарея может работать десятилетиями в космосе и под водой.
* В США начали строительство демонстрационного реактора малой мощности "Гермес", который будет использовать жидкосолевую концепцию с шариками TRISO.
* Строительство реактора началось в 2024 году и планируется завершить в 2027 году.
* Многие в Штатах раскритиковали этот проект, указывая на то, что у него, по сути, не так много плюсов.
'''

# vikhr-llama-3.2-1b-instruct:1b

'''
Анонс исследования:

Новое исследование ученых под руководством Алексея Абызова в журнале Nature Communications представило уникальные данные о 
происхождении первых клеток зародышевой линии человека. Исследователи использовали анализ мутаций, возникших после 
оплодотворения (ранние постзиготические мутации), чтобы понять, как эти изменения влияют на развитие эмбриона и наследственность.

Результаты показали, что зародышевая линия человека формируется из двух первых бластомеров, которые вносят равный 
вклад в дальнейшее развитие. Это противоречит общепринятой теории о том, что только внутренний слой эмбриона 
участвует в формировании зародышевой линии.

Исследование также показало, что ранние постзиготические мутации могут передаваться следующим поколениям и 
играть ключевую роль в развитии заболеваний. Авторы подчеркнули важность дальнейших исследований для понимания 
механизмов развития человека и разработки новых методов диагностики и лечения наследственных заболеваний.

Ключевые слова: зародышевая линия, первые клетки эмбриона, мутации, наследственность, развитие человека.
'''

'''
В данном анонсе текста в 3 тезисах представлены основные идеи исследования, которое изучает происхождение первых клеток 
зародышевой линии человека и влияние их на дальнейшее развитие организма и риск заболеваний.

1. **Исследование показало, что первые две бластомеры в эмбриональном развитии человека могут вносить неоднородный вклад 
в формирование зародышевой линии**. Это означает, что хотя обычно считается, что все клетки зародышевой линии происходят 
из внутреннего слоя эмбриона, на самом деле может быть иное распределение.

2. **Ранние постзиготические мутации играют ключевую роль в формировании наследственных заболеваний**. 
Эти мутации возникают случайным образом в соматических клетках родителей и могут передаваться детям, что влияет на их здоровье.

3. **Исследование может иметь важные последствия для развития регенеративной медицины и диагностики генетических заболеваний**. 
Углубление понимания механизмов формирования зародышевой линии может помочь в разработке новых методов лечения наследственных 
заболеваний и улучшении прогнозирования риска развития болезней у будущих детей.

В целом, данное исследование расширяет наше понимание процесса формирования человека и его наследственности, что имеет 
важные последствия для медицины и генетики.
'''

'''
1. Исследование показало, что зародышевая линия человека формируется из двух первых бластомеров, 
которые вносят равный вклад в развитие эмбриона.

2. Ранние постзиготические мутации играют ключевую роль в формировании клеточной линии и могут 
передаваться следующим поколениям как наследственные изменения.

3. Анализ мутаций может быть использован для понимания развития человека на разных этапах, а 
также для диагностики заболеваний и разработки новых методов лечения.
'''

'''
Исследование, проведенное Алексеем Абызовым и его коллегами, показало, что зародышевая линия 
человека формируется из двух первых бластомеров, которые вносят равный вклад в развитие эмбриона. 
Ранние постзиготические мутации, возникающие у матери, передаются детям как наследственные и 
играют важную роль в развитии организма.

Исследование было проведено на основе анализа мутаций в соматических клетках родителей и их детей. 
Было обнаружено, что зародышевые клетки в теле детей имеют примерно 50/50% соотношение между 
доминантной и рецессивной линиями, что отличается от распределения в крови родителей.

Авторы исследования предложили несколько гипотез о механизмах формирования зародышевой линии, 
включая возможность асимметричного деления первых двух бластомеров и дифференцировку клеток из 
разных слоев эмбриона. Они также отметили, что более крупные исследования могут предоставить 
дополнительную информацию о процессе формирования зародышевой линии.

Исследование имеет важные implications для понимания развития человека и может помочь в разработке 
новых методов диагностики и лечения наследственных заболеваний.
'''

'''
Новое исследование в области биологии и медицины показало, что зародышевая линия человека формируется из 
двух первых бластомеров, которые делают равный вклад в развитие эмбриона. Это противоречит общепринятой 
теории, согласно которой зародышевая линия формируется исключительно из внутреннего слоя эмбриона.

Исследование было проведено группой ученых под руководством Алексея Абызова и включало анализ мутаций в 
соматических клетках родителей и их потомства. Ученые обнаружили, что ранние постзиготические мутации, 
которые возникают в процессе развития эмбриона, могут передаваться следующему поколению как наследственные.

Результаты исследования также показали, что зародышевая линия человека состоит из двух линий, каждая из 
которых имеет примерно 50% вклада в развитие эмбриона. Это может быть связано с асимметричным делением 
первых бластомеров или с дифференцировкой клеток из разных слоев эмбриона.

Исследование также подчеркивает важность анализа мутаций для понимания развития человека и заболеваний. 
Ученые отмечают, что более крупные исследования могут помочь лучше понять механизмы формирования зародышевой 
линии и выявить новые возможности в области регенеративной медицины.

Ключевые слова: зародышевая линия, бластомеры, мутации, наследственность, эмбриональное развитие, 
регенеративная медицина.
'''

'''
Основная идея текста: Исследование, проведенное Алексеем Абызовым и его коллегами, показало, 
что зародышевая линия человека формируется из двух первых бластомеров, которые вносят равный 
вклад в развитие эмбриона. Результаты исследования также указывают на то, что ранние постзиготические 
мутации могут передаваться от родителей к детям и играть ключевую роль в развитии заболеваний.

Ключевые слова: зародышевая линия, бластомеры, мутации, наследственность, 
эмбриональное развитие, половые клетки.
'''

'''
Исследование, проведенное Алексеем Абызовым и его коллегами, показало, что зародышевая линия человека формируется 
из двух первых бластомеров, которые вносят равный вклад в развитие эмбриона. Это противоречит общепринятой теории, 
согласно которой зародышевая линия формируется исключительно из внутреннего слоя эмбриона.

Исследование также показало, что ранние постзиготические мутации, которые возникают в соматических клетках, 
могут передаваться следующему поколению и играть ключевую роль в развитии заболеваний. Это открытие может 
иметь важные последствия для диагностики и лечения наследственных заболеваний.

Ключевые выводы исследования:

1. **Зародышевая линия формируется из двух первых бластомеров, которые вносят равный вклад в развитие эмбриона**.
2. **Ранние постзиготические мутации могут передаваться следующему поколению и играть ключевую роль в развитии заболеваний**.
3. **Исследование может помочь в разработке новых методов диагностики и лечения наследственных заболеваний**.

Этот результат также подтверждает важность анализа мутаций для понимания развития организма человека на разных 
этапах, включая зародышевую линию.
'''

###############################################################################################################################
# Saiga 'num_ctx': 8190
###############################################################################################################################
'''
1. **Название:** В США начали строительство принципиально нового атомного реактора на расплавленных солях.
2. **Дата публикации:** 13 августа 2024 года.
3. **Краткое описание:**
   - Компания Kairos Power начала строительство демонстрационного реактора малой мощности "Гермес", который 
   использует жидкосолевую концепцию с упакованными в TRISO шариками ядерного топлива.
   - Реактор будет работать на медленных нейтронах, что исключает возможность использования быстрых нейтронов 
   и возможности производства делящегося плутония из неделящегося урана-238.
   - Основные преимущества: высокая температура активной зоны и повышенный КПД (до 45%).
   - Проблемы: коррозия, связанная с агрессивными солями.

4. **Инвестиции:** Компания Kairos Power инвестирует в проект 100 миллионов долларов, а Минэнерго США добавит 
еще 300 миллионов долларов.
5. **Планы:** Реактор "Гермес" планируется запустить в 2027 году и будет использоваться для демонстрации 
технологии. В начале 2030-х годов компания планирует начать серийное производство модульных реакторов на 
145 мегаватт электрической мощности.

6. **Критика:** Некоторые критики указывают, что жидкосолевые реакторы имеют недостатки, такие как сложность 
в ликвидации ядерных отходов и потенциальные проблемы с коррозией.
'''
####################################################################################################################################

# Saiga 'num_ctx': 131000
'''
1. **Новости науки и техники, энергетика:**
   - Концентраторы солнечной энергии намного дешевле хранения энергии в батареях.
   - Google обращается к ядерной энергии для питания своего искусственного интеллекта.
   - Новая водородная батарея дешевле аналогов в 10 раз.
   - В США начали строительство принципиально нового атомного реактора на расплавленных солях.

2. **Основные ключевые слова:**
   - Концентраторы солнечной энергии
   - Ядерная энергия
   - Искусственный интеллект (ИИ)
   - Водородная батарея
   - Атомный реактор на расплавленных солях

3. **Ссылки:**
   - [1] https://hightech.plus/2024/11/06/концентраторы-солнечной-энергии-намного-дешевле-хранения-энергии-в-батареях/
   - [2] https://new-science.ru/google-обращается-к-ядерной-энергией-для-питания-своего-искусственного-интелекта
   - [3] https://hightech.plus/2024/10/30/новая-водородная-батарея-дешевле-аналогов-в-10-раз
   - [4] https://naked-science.ru/v-ussa-nachali-stroil-stroitelstvi-energi/
'''

# llama3-8b-instruct

'''
The article discusses the construction of a new type of nuclear reactor, known as the "Germes" reactor, which uses molten salt as a coolant and fuel. The reactor is designed to be more efficient and cost-effective than traditional water-cooled reactors.

The article highlights the advantages of this new design, including:

1. Higher temperature: The molten salt can reach temperatures of up to 585°C, allowing for higher energy conversion efficiency.
2. Lower corrosion risk: The use of TRISO (Thermal Reactor In-Situ) and graphite reduces the risk of corrosion and radiation damage.
3. Improved safety: The reactor design is designed to be more robust and resistant to accidents.

However, the article also notes that there are some limitations and challenges associated with this new design, including:

1. Limited scalability: The reactor's size and complexity may limit its ability to scale up for commercial use.
2. Higher costs: The cost of building such a reactor is estimated to be around $100 million, which may make it less competitive in the market.

Overall, the article suggests that this new design has potential benefits and drawbacks, but further research and testing are needed to determine its feasibility for commercial use.
'''

# llama-3-8b-gpt-4o-ru1.0

'''
В США началось строительство нового атомного реактора, который использует жидкосолевую технологию для производства энергии. Этот проект представляет собой значительный шаг вперед в области ядерной энергетики, поскольку он предлагает более эффективное использование топлива и потенциально может быть дешевле традиционных водо-водяных реакторов.

Новый реактор, названный "Гермес", использует жидкосолевую технологию с уникальным составом соли FLiBe. Это позволяет ему достигать более высоких температур и КПД по сравнению с традиционными водо-водяными реакторами.

Однако, несмотря на потенциальные преимущества, этот проект также сталкивается с рядом вызовов, включая проблемы коррозии и сложности с безопасностью. Важно отметить, что для достижения полного потенциала жидкосолевых реакторов необходимо решить эти вопросы.

В целом, строительство "Гермеса" представляет собой важный шаг в развитии атомной энергетики, который может предложить новые возможности для снижения выбросов CO2 и обеспечения устойчивого развития.
'''

# t-lite

'''
Спасибо за ваше внимание к статьям! Если у вас есть вопросы или вы хотели бы узнать больше о конкретных технологиях, я с радостью помогу. Давайте рассмотрим детали и обсудим любые аспекты, которые вам интересны.

Конечно, давай углубляться в тему. Например, каковы основные технические характеристики "Гермеса" и какие у него могут быть конкурентные преимущества по сравнению с традиционными реакторами? Или может быть, есть интересующие вас аспекты в области ядерной энергетики или других технологий?

Конечно! Давайте начнем с технических характеристик "Гермеса". Этот демонстрационный проект имеет следующие ключевые параметры:

1. **Тепловая мощность**: 50 мегаватт (это тепло, а не электричество).
2. **Мощность на выходе пара**: около 4-6 МВт.
3. **КПД**: Ожидается до 45% за счет использования высоких температур и эффективного теплопередачи.
4. **Температура соли FLiBe**: Около 700 градусов Цельсия, что выше, чем в водо-водяных реакторах.

### Преимущества перед традиционными реакторами:

1. **Высокая температура и КПД** за счет использования расплавленной соли.
2. **Простота конструкции**: Меньшие габариты и масса, что может упростить строительство и эксплуатацию.
3. **Модульность**: Возможности для быстрого развертывания в промышленном масштабе.

### Проблемы и вызовы:

1. **Коррозионная активность** соли, что может создавать проблемы при эксплуатации.
2. **Трудности с утилизацией** для быстрого развертывания в промышленном масштабе.

### Возможные применения

Возможные применения:

1. **Коррозионная активность** соли, что может создав

'''